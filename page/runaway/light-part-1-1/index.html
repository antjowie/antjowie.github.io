<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Light part 1.1</title>
  <meta property="og:title" content="Light part 1.1" />
  <meta name="twitter:title" content="Light part 1.1" />
  <meta name="description" content="Just a little note for you, this post is less about the project and more about me. You will notice that halfway through the text I&#8217;m kinda changing the whole message of this post and it becomes less about the program and more about me. If you are not interested in that, you should stop after reading the following chapter.
 Back when I added gates to the program.">
  <meta property="og:description" content="Just a little note for you, this post is less about the project and more about me. You will notice that halfway through the text I&#8217;m kinda changing the whole message of this post and it becomes less about the program and more about me. If you are not interested in that, you should stop after reading the following chapter.
 Back when I added gates to the program.">
  <meta name="twitter:description" content="Just a little note for you, this post is less about the project and more about me. You will notice that halfway through the text I&#8217;m kinda changing the whole message of this post and it becomes â€¦">
  <meta name="author" content="Angelo Anthony Rettob"/>
  <link href='https://antjowie.github.io/img/icons/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://antjowie.github.io/img/icons/site-icon.png" />
  <meta name="twitter:image" content="https://antjowie.github.io/img/icons/site-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@antjowie27" />
  <meta name="twitter:creator" content="@antjowie27" />
  <meta property="og:url" content="https://antjowie.github.io/page/runaway/light-part-1-1/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Angelo&#39;s Portfolio" />

  <meta name="generator" content="Hugo 0.41" />
  <link rel="canonical" href="https://antjowie.github.io/page/runaway/light-part-1-1/" />
  <link rel="alternate" href="https://antjowie.github.io/index.xml" type="application/rss+xml" title="Angelo&#39;s Portfolio">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://antjowie.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://antjowie.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://antjowie.github.io/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://antjowie.github.io/">Angelo&#39;s Portfolio</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Projects" href="/projects/">Projects</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags/">Tags</a>
            </li>
          
        

        

        
          <li>
            <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg">Search</span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Angelo&#39;s Portfolio" href="https://antjowie.github.io/">
            <img class="avatar-img" src="https://antjowie.github.io/img/icons/site-icon.png" alt="Angelo&#39;s Portfolio" />
          </a>
        
      </div>
    </div>

  </div>
</nav>



  <div id="modalSearch" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Search Angelo&#39;s Portfolio</h4>
        </div>
        <div class="modal-body">
          <gcse:search></gcse:search>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="page-heading">
              <h1>Light part 1.1</h1>
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<blockquote>
<p>Just a little note for you, this post is less about the project and more about me. You will notice that halfway through the text I&#8217;m kinda changing the whole message of this post and it becomes less about the program and more about me. If you are not interested in that, you should stop after reading the following chapter.</p>
</blockquote>

<p>Back when I added gates to the program. I thought I came up with a great solution. Well, you can&#8217;t really call it a solution, but it did fix the problem at that moment. Now that we have progressed the program. I have learned a valuable lesson. Never beat around the problem. What I thought was a clever solution, only made it harder for me in the long run. So here we are, writing a post about fixing a solution.</p>

<h1 id="fixing-the-solution">Fixing the solution</h1>

<p>Because I already have a general idea of how to fix the problem, I have come up with two solutions. First, let&#8217;s discuss the problem. At the moment, the gate tiles are being moved down. This gives the looks of the gate opening. By moving these tiles down, however, we are overwriting existing tiles. This way the gate tiles will overwrite other tiles. We don&#8217;t want that. So the solution, the one which I should have made for the beginning, is not to move the tiles, but to change the height. This way the tiles won&#8217;t move but will get shorter.</p>

<p>There are two ways I&#8217;m thinking of. I could use two rectangles, one for the lower portion and another one for the upper portion. When the gate is being lowered, I&#8217;ll increase the shape size. When the gate is being risen, I&#8217;ll decrease the shape size. Since the y-coordinate goes down. This is the way how to do it. I can also use vertices and move 2 vertices. But I think that I prefer the simpler solution over the harder one.</p>

<p>I have made a simple program to test this and from using it I have concluded that using shapes is the easiest way.</p>

<p>The following needs to be done:</p>

<ul>
<li>Create a shape from the gate tiles</li>
<li>Make two shapes, one for the lower section and one for the upper section</li>
<li>When changing the size of the texture, make sure that the texture doesn&#8217;t scale.</li>
</ul>

<p>The first two are easy to implement. I&#8217;m the most worried about the last one. That needs a little bit of thinking but luckily not too much. All we really have to do is increase the texture rectangle with our new height. This way, the texture will always be the same size as the shape. By turning set repeated off, it appears that the texture will use the last known pixels to extend. Exactly the behavior we&#8217;re looking for. I have tested it with a <a href="https://github.com/antjowie/Shape-resize-test/tree/master" rel="noopener">little test program</a>.</p>

<h1 id="implementing-the-new-solution">Implementing The New Solution</h1>

<p>It is very easy to implement this fix. All we are going to do is make a shape which is equal to the size of all bottom gate tiles combined. And make one for its opposite direction. Or so I thought.</p>

<p>I actually decided to change the code while writing this update and let me tell you. I had to delete the whole gate class. Everything was wrong. The whole code was a mess like it was really meant to be programmed once and never touched again. Though I could not say for sure because many programmers insist that their &#8216;old&#8217; code is ugly.</p>

<p>I will not write an update about all the changes I have made to the class, you can find those by clicking <a href="https://github.com/antjowie/Runaway/commit/ce49a784762f2faab4cb3280c64df4cd5e64fd0f" rel="noopener">here</a>. I will, however, write down the valuable lessons that I&#8217;ve learned.</p>

<p>Do not write one-time use code. When I wrote the gate class. I&#8217;ve made the weirdest values. Well, it wasn&#8217;t exactly weird, but badly documented. For example, look at the following lines.</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">unsigned</span> <span style="color:#458;font-weight:bold">int</span> i <span style="font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="font-weight:bold">&lt;</span> middle; i<span style="font-weight:bold">++</span>) 
{ 
  m_tiles[i]<span style="font-weight:bold">-&gt;</span>move(<span style="color:#099">0</span>, offset <span style="font-weight:bold">*</span> elapsedTime);
  <span style="font-weight:bold">if</span> (m_tiles[i]<span style="font-weight:bold">-&gt;</span>getHitbox().top <span style="font-weight:bold">&gt;</span> m_originalTiles[i].getHitbox().top <span style="font-weight:bold">+</span>
      m_originalTiles[i].getHitbox().height <span style="font-weight:bold">*</span> middle)
    m_tiles[i]<span style="font-weight:bold">-&gt;</span>move(<span style="color:#099">0</span>, <span style="font-weight:bold">-</span>(m_tiles[i]<span style="font-weight:bold">-&gt;</span>getHitbox().top <span style="font-weight:bold">-</span> 
                    (m_originalTiles[i].getHitbox().top <span style="font-weight:bold">+</span> 
                     m_originalTiles[i].getHitbox().height <span style="font-weight:bold">*</span> middle)));
}
</code></pre></div>

<p>Maybe it doesn&#8217;t look complicated for you, but in my head, I had to lay the connections between all these values. I had to again learn why I wrote it this way. It was not meant to be looked at again.</p>

<p>This one isn&#8217;t really a lesson but I have learned how to use timelines in a better way. Maybe not the most impressive thing, but certainly a useful thing.</p>

<p>I have also learned to not depend on the alpha value of colors too much because those will not give you precise results. Or maybe they do, you just can&#8217;t imagine them in real life, because you can&#8217;t just lower the visibility of something, right?</p>

<p>The last thing that I have learned is to efficiently use function calls and make sensible names. This helped me to dodge unnecessary functions (I even found some functions which were never called). I think that this is something that will always improve. Because it is an ability to lay relations between real life objects and your in-game objects.</p>

<p>All in all, I&#8217;m very happy with the end result. Right now I&#8217;m having this feeling of crazy progression. While I may only have added an already existing feature to the program. It makes me glad that everything is starting to work out the way that I have laid it in my mind. I&#8217;m getting the feeling that this project may really come t a realization, wouldn&#8217;t that be amazing. While this may seem like some cheap 2D scroller game, it is my 2D scroller game and knowing that I have made it. Is a little achievement that I will treasure for myself.</p>

<p>I thank you for reading this blog update. This may have been the least informal update that I&#8217;ve posted. It doesn&#8217;t really contain any changes in the code. Maybe I should have posted this on the blog channel. But that doesn&#8217;t matter right now. I&#8217;m sorry for wasting your time like this, but the fact that you&#8217;ve come so far must mean that you were interested. If you were, please leave a comment below with your thoughts. I&#8217;d love to talk about it.</p>

<p>Have a nice programming session!</p>

<p><a href="https://antjowie.github.io/projects/runaway/">Return to the project page</a>.</p>


        

        
            <hr/>
            <section id="social-share">
              <ul class="list-inline footer-links">
                


<li>
    <a href="//twitter.com/share?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f&amp;text=Light%20part%201.1&amp;via=antjowie27"
       target="_blank" alt="" title="Share on Twitter">
        <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//plus.google.com/share?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f" target="_blank" title="Share on Google Plus">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f" target="_blank" title="Share on Facebook">
        <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//reddit.com/submit?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f&amp;title=Light%20part%201.1" target="_blank" title="Share on Reddit">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-reddit fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f&amp;title=Light%20part%201.1" target="_blank"
       title="Share on LinkedIn">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f&amp;title=Light%20part%201.1" target="_blank"
       title="Share on StumbleUpon">
        <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-stumbleupon fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2flight-part-1-1%2f&amp;description=Light%20part%201.1" target="_blank"
       title="Share on Pinterest">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-pinterest fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>

              </ul>
            </section>
        
      </article>

      


      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "angelos-portfolio" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:angelo05rettob@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/antjowie" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/antjowie27" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://antjowie.github.io/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://antjowie.github.io/">Angelo Anthony Rettob</a>
            
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="https://antjowie.github.io/">Angelo&#39;s Portfolio</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.41</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://antjowie.github.io/js/main.js"></script>
<script src="https://antjowie.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://antjowie.github.io/js/load-photoswipe.js"></script>


<script>
  (function() {
    var cx = '001716844541583678590:jrms-ixh6ca';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>





  </body>
</html>

