<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Animation and sprite sheet part 2</title>
  <meta property="og:title" content="Animation and sprite sheet part 2" />
  <meta name="twitter:title" content="Animation and sprite sheet part 2" />
  <meta name="description" content="To implement an animation handler you first have to know the order of the frames in the sprite sheet. Or perhaps the other way around. Or maybe you are way further ahead than me and have already made a class that can handle both situations. Either way, the implementation is the same, or should I say the meaning of it. Most sprite sheets work the same way as any sprite sheet you will see.">
  <meta property="og:description" content="To implement an animation handler you first have to know the order of the frames in the sprite sheet. Or perhaps the other way around. Or maybe you are way further ahead than me and have already made a class that can handle both situations. Either way, the implementation is the same, or should I say the meaning of it. Most sprite sheets work the same way as any sprite sheet you will see.">
  <meta name="twitter:description" content="To implement an animation handler you first have to know the order of the frames in the sprite sheet. Or perhaps the other way around. Or maybe you are way further ahead than me and have already made â€¦">
  <meta name="author" content="Angelo Anthony Rettob"/>
  <link href='https://antjowie.github.io/img/icons/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://antjowie.github.io/img/icons/site-icon.png" />
  <meta name="twitter:image" content="https://antjowie.github.io/img/icons/site-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://antjowie.github.io/page/runaway/animation-and-sprite-sheet-part-2/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Angelo&#39;s Portfolio" />

  <meta name="generator" content="Hugo 0.41" />
  <link rel="canonical" href="https://antjowie.github.io/page/runaway/animation-and-sprite-sheet-part-2/" />
  <link rel="alternate" href="https://antjowie.github.io/index.xml" type="application/rss+xml" title="Angelo&#39;s Portfolio">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://antjowie.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://antjowie.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://antjowie.github.io/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://antjowie.github.io/">Angelo&#39;s Portfolio</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Projects" href="/projects/">Projects</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="/tags/">Tags</a>
            </li>
          
        

        

        
          <li>
            <a href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg">Search</span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Angelo&#39;s Portfolio" href="https://antjowie.github.io/">
            <img class="avatar-img" src="https://antjowie.github.io/img/icons/site-icon.png" alt="Angelo&#39;s Portfolio" />
          </a>
        
      </div>
    </div>

  </div>
</nav>



  <div id="modalSearch" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Search Angelo&#39;s Portfolio</h4>
        </div>
        <div class="modal-body">
          <gcse:search></gcse:search>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="page-heading">
              <h1>Animation and sprite sheet part 2</h1>
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>To implement an animation handler you first have to know the order of the frames in the sprite sheet. Or perhaps the other way around. Or maybe you are way further ahead than me and have already made a class that can handle both situations. Either way, the implementation is the same, or should I say the meaning of it. Most sprite sheets work the same way as any sprite sheet you will see. You have the rows and the columns, as described in <a href="https://antjowie.github.io/page/runaway/animation-and-sprite-sheet-part-1/">part 1</a>. So in this part, I will explain my implementation of an animation handler class.</p>

<p>An animation handler class needs some basic functionality. There are many ways to implement animations. The way I have devised is to look at every movement as an animation. All these animation blocks will be putten inside an animation vector. This way, we can be really flexible with our implementation. Some animations in a sprite sheet can be longer than others, but we can also change the speed between frames for each different move.</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="font-weight:bold">struct</span> Animation
{
	<span style="color:#998;font-style:italic">// Each Animation object represents a row in the sprite sheet
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">unsigned</span> <span style="color:#458;font-weight:bold">int</span> m_startFrame; <span style="color:#998;font-style:italic">// The beginning of the animation row, usually starts at 0
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">unsigned</span> <span style="color:#458;font-weight:bold">int</span> m_endFrame;   <span style="color:#998;font-style:italic">// The end of an animation row, if a row starts at 0 and ends with a 4th frame, this should be 3
</span><span style="color:#998;font-style:italic"></span>
	<span style="color:#458;font-weight:bold">float</span> m_duration;     <span style="color:#998;font-style:italic">// The duration inbetween frames
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">bool</span> m_isRepeated;    <span style="color:#998;font-style:italic">// Wheter the animation should loop
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">bool</span> m_isTransition;  <span style="color:#998;font-style:italic">// Wheter the column should reset upon changing animation
</span><span style="color:#998;font-style:italic"></span>
	Animation(<span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">unsigned</span> <span style="color:#458;font-weight:bold">int</span> startFrame, <span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">unsigned</span> <span style="color:#458;font-weight:bold">int</span> endFrame, <span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">float</span> duration, <span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">bool</span> isRepeated <span style="font-weight:bold">=</span> <span style="color:#999">true</span>, <span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">bool</span> isTransition <span style="font-weight:bold">=</span> <span style="color:#999">false</span>);
	<span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">getLength</span>() <span style="font-weight:bold">const</span>;  <span style="color:#998;font-style:italic">// Returns length of animation row, used to loop back to beginning
</span><span style="color:#998;font-style:italic"></span>};
</code></pre></div>

<p>It is defined as a structure, for what I know, structures and classes are the same but they only differ in their default accessibility. Structures are public by default, classes are private. I tend to use structures for data types where more member variables are needed than functions. I have described all the variables with comments, should something not be clear, feel free to ask down below.</p>

<p>The animation handler class is more of a container class. This class handles the changing, adding, and &#8216;displaying&#8217; of animations. See the code down below.</p>

<p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="font-weight:bold">class</span> <span style="color:#458;font-weight:bold">AnimationHandler</span>
{
<span style="font-weight:bold">private</span><span style="font-weight:bold">:</span>
	sf<span style="font-weight:bold">::</span>IntRect m_frameSize;    <span style="color:#998;font-style:italic">// Assumes that all sprite sheet frames are same size
</span><span style="color:#998;font-style:italic"></span>	sf<span style="font-weight:bold">::</span>IntRect m_currentFrame; <span style="color:#998;font-style:italic">// This is the current animation
</span><span style="color:#998;font-style:italic"></span>
	std<span style="font-weight:bold">::</span>vector m_animations;   <span style="color:#998;font-style:italic">// This keeps all the animations, a specific order is mandatory
</span><span style="color:#998;font-style:italic"></span>
	<span style="color:#458;font-weight:bold">int</span> m_currentAnim;  <span style="color:#998;font-style:italic">// The current animation, this value is used to loop through the row
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">float</span> m_elapsed;    <span style="color:#998;font-style:italic">// Used to calculate whether to loop to next frame
</span><span style="color:#998;font-style:italic"></span>
<span style="font-weight:bold">public</span><span style="font-weight:bold">:</span>
	<span style="color:#458;font-weight:bold">void</span> addAnimation(<span style="font-weight:bold">const</span> Animation <span style="font-weight:bold">&amp;</span>anim);
	<span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">changeAnimation</span>(<span style="color:#458;font-weight:bold">unsigned</span> <span style="color:#458;font-weight:bold">int</span> animID);
	
	<span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span>(<span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">float</span> dt);
	
	sf<span style="font-weight:bold">::</span>IntRect getFrame() <span style="font-weight:bold">const</span>;

	<span style="color:#998;font-style:italic">// Class assumes every frame has the same size. Because it iterates the sprite sheet like blocks
</span><span style="color:#998;font-style:italic"></span>	AnimationHandler(<span style="font-weight:bold">const</span> sf<span style="font-weight:bold">::</span>Vector2i <span style="font-weight:bold">&amp;</span>frameSize);
	AnimationHandler(<span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> width, <span style="font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> height);
};
</code></pre></div></p>

<p>I think that every function is quite self-explanatory. It really isn&#8217;t that complicated. I will not post the definitions on this website because those can already be found <a href="https://github.com/antjowie/Runaway/blob/master/Runaway/source/AnimationHandler.cpp">here</a>. That really is it for this part. Of course, you can see the result down below (which by the way shows some broken behavior which we will fix in <a href="https://antjowie.github.io/page/runaway/animation-and-sprite-sheet-part-2-1/">the next part</a>).</p>


<div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/1YNBxzX-38c" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0" title="YouTube Video"></iframe>
</div>


<p>Thank you for reading and have a peaceful day.</p>

<p><a href="https://antjowie.github.io/projects/runaway/">Return to the project page</a>.</p>


        

        
            <hr/>
            <section id="social-share">
              <ul class="list-inline footer-links">
                


<li>
    <a href="//twitter.com/share?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f&amp;text=Animation%20and%20sprite%20sheet%20part%202&amp;via="
       target="_blank" alt="" title="Share on Twitter">
        <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//plus.google.com/share?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f" target="_blank" title="Share on Google Plus">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f" target="_blank" title="Share on Facebook">
        <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//reddit.com/submit?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f&amp;title=Animation%20and%20sprite%20sheet%20part%202" target="_blank" title="Share on Reddit">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-reddit fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f&amp;title=Animation%20and%20sprite%20sheet%20part%202" target="_blank"
       title="Share on LinkedIn">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f&amp;title=Animation%20and%20sprite%20sheet%20part%202" target="_blank"
       title="Share on StumbleUpon">
        <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-stumbleupon fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>


<li>
    <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fantjowie.github.io%2fpage%2frunaway%2fanimation-and-sprite-sheet-part-2%2f&amp;description=Animation%20and%20sprite%20sheet%20part%202" target="_blank"
       title="Share on Pinterest">
         <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-pinterest fa-stack-1x fa-inverse"></i>
              </span>
    </a>
</li>

              </ul>
            </section>
        
      </article>

      


      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:angelo05rettob@gmail.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/antjowie" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://antjowie.github.io/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://antjowie.github.io/">Angelo Anthony Rettob</a>
            
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="https://antjowie.github.io/">Angelo&#39;s Portfolio</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.41</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://antjowie.github.io/js/main.js"></script>
<script src="https://antjowie.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://antjowie.github.io/js/load-photoswipe.js"></script>


<script>
  (function() {
    var cx = '001716844541583678590:jrms-ixh6ca';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>





  </body>
</html>

